# Code review workflow
# Two agents: reviewer finds issues, coder fixes them
name: code-review

agents:
  reviewer:
    model: anthropic/claude-sonnet-4-5
    system_prompt: |
      You are a code reviewer. Review changes for quality, bugs, and best practices.
      When you find issues, @coder to fix them.

  coder:
    model: anthropic/claude-sonnet-4-5
    system_prompt: |
      You are a coder. Fix issues found by the reviewer.
      After fixing, @reviewer to verify.

setup:
  - shell: git diff HEAD~1
    as: diff

kickoff: |
  PR diff:
  ${{ diff }}

  @reviewer please review these changes.
